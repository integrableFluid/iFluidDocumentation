<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>iFluidSolver - iFluid Documentation</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "iFluidSolver";
    var mkdocs_page_input_path = "iFluidSolver.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> iFluid Documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="..">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Documentation of main classes</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../iFluidCore/">iFluidCore</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">iFluidSolver</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#ifluidsolver">iFluidSolver</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#constructor">Constructor</a></li>
        
            <li><a class="toctree-l4" href="#abstract-algorithm-specific-methods">Abstract (algorithm specific) methods</a></li>
        
            <li><a class="toctree-l4" href="#time-propagation-methods">Time propagation methods</a></li>
        
            <li><a class="toctree-l4" href="#additional-methods">Additional methods</a></li>
        
            <li><a class="toctree-l4" href="#options">Options</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../iFluidTensor/">iFluidTensor</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Additional features</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../correlations/">Correlation functions</a>
                </li>
                <li class="">
                    
    <a class="" href="../Solvers/">Implemented solvers</a>
                </li>
                <li class="">
                    
    <a class="" href="../Models/">Implemented models</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Examples</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../LLexample/">Running an iFluid calculation</a>
                </li>
                <li class="">
                    
    <a class="" href="../model/">Implementing a new model</a>
                </li>
                <li class="">
                    
    <a class="" href="../solver/">Implementing a new algorithm</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../changelog/">Changelog</a>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">iFluid Documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Documentation of main classes &raquo;</li>
        
      
    
    <li>iFluidSolver</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="ifluidsolver">iFluidSolver</h1>
<p>The purpose of the <code>iFluidSolver</code> class is to propagate the filling function in time following the hydrodynamic equation</p>
<p><img src="https://latex.codecogs.com/svg.latex?\partial&space;_&space;{&space;t&space;}&space;\vartheta&space;(\lambda)&space;&plus;&space;v&space;^&space;{&space;\mathrm&space;{&space;eff&space;}&space;}&space;[\vartheta&space;(\lambda)]&space;\:&space;\partial&space;_&space;{&space;x&space;}&space;\vartheta&space;(\lambda)&space;&plus;&space;a^&space;{&space;\mathrm&space;{&space;eff&space;}&space;}[\vartheta&space;(\lambda)]&space;\:&space;\partial&space;_&space;{&space;\lambda&space;}&space;\vartheta&space;(\lambda)&space;=&space;0" title="\partial _ { t } \vartheta (\lambda) + v ^ { \mathrm { eff } } [\vartheta (\lambda)] \: \partial _ { x } \vartheta (\lambda) + a^ { \mathrm { eff } }[\vartheta (\lambda)] \: \partial _ { \lambda } \vartheta (\lambda) = 0" /></p>
<p>This is achieved by approximating the propagation for a single time-step <code>dt</code>.</p>
<p>Note, the <code>iFluidSolver</code> class is abstract and must be extended by classes encoding algorithms for performing the time-step. <a href="../solver/">Click here to see how to implement your own algorithm.</a> </p>
<h2 id="constructor">Constructor</h2>
<h3 id="obj-ifluidsolvercoreobj-options"><code>obj = iFluidSolver(coreObj, Options)</code></h3>
<p>Construct an iFluidSolver object for solving the hydrodynamical propagation equation.<br />
<strong>Inputs:</strong></p>
<ul>
<li><code>coreObj</code>: <code>iFluidCore</code> object specifying the model and problem at hand.  </li>
<li><code>Options</code>: Struct of settings.   </li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>obj</code>: <code>iFluidSolver</code> object.</li>
</ul>
<h2 id="abstract-algorithm-specific-methods">Abstract (algorithm specific) methods</h2>
<h3 id="theta-u-w-initializeobj-theta_init-u_init-w_init-t_array"><code>[theta, u, w] = initialize(obj, theta_init, u_init, w_init, t_array )</code></h3>
<p>Calculates and stores all the required quantities used by the algorithm implemented in <code>step()</code>.<br />
<strong>Inputs:</strong></p>
<ul>
<li><code>theta_init</code>: Initial filling function (t = 0), as <code>iFluidTensor</code>.</li>
<li><code>u_init</code>: Initial position characteristic (t = 0), as <code>iFluidTensor</code>.</li>
<li><code>w_init</code>: Initial rapidity characteristic (t = 0), as <code>iFluidTensor</code>.</li>
<li><code>t_array</code>: Vector of timesteps.  </li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>theta</code>: Filling passed to first call of <code>step()</code>. Typically equal to <code>theta_init</code>.</li>
<li><code>u</code>: Position characteristic passed to first call of <code>step()</code>. Typically equal to <code>u_init</code>.</li>
<li><code>w</code>: Rapidity characteristic passed to first call of <code>step()</code>. Typically equal to <code>w_init</code>.</li>
</ul>
<hr />
<h3 id="theta_next-u_next-w_next-stepobj-theta_prev-u_prev-w_prev-t-dt"><code>[theta_next, u_next, w_next] = step(obj, theta_prev, u_prev, w_prev, t, dt)</code></h3>
<p>Propagates the filling function one timestep <code>dt</code>.
<strong>Inputs:</strong></p>
<ul>
<li><code>theta_prev</code>: Filling function at time <code>t</code>, as <code>iFluidTensor</code>.</li>
<li><code>u_prev</code>: Position characteristic at time <code>t</code>, as <code>iFluidTensor</code>.</li>
<li><code>w_prev</code>: Rapidity characteristic at time <code>t</code>, as <code>iFluidTensor</code>.</li>
<li><code>t</code>: Time at the start of the step.  </li>
<li><code>dt</code>: Length of step.  </li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>theta_next</code>: Filling function at time <code>t + dt</code>, as <code>iFluidTensor</code>.</li>
<li><code>u_next</code>: Position characteristic at time <code>t + dt</code>, as <code>iFluidTensor</code>.</li>
<li><code>w_next</code>: Rapidity characteristic at time <code>t + dt</code>, as <code>iFluidTensor</code>.</li>
</ul>
<h2 id="time-propagation-methods">Time propagation methods</h2>
<h3 id="theta_t-u_t-w_t-propagatethetaobj-theta_init-t_array"><code>[theta_t, u_t, w_t] = propagateTheta(obj, theta_init, t_array)</code></h3>
<p>Propagates the filling function according to the hydrodynamical equation using the user-implemented <code>step()</code> method. <br />
<strong>Inputs:</strong></p>
<ul>
<li><code>theta_init</code>: Initial filling function (t = 0), as <code>iFluidTensor</code>.</li>
<li><code>t_array</code>: Vector of starting times of each step.</li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>theta_t</code>: Cell array of filling functions for each time in <code>t_array</code>.</li>
<li><code>u_t</code>: Cell array of position characteristics for each time in <code>t_array</code>.</li>
<li><code>w_t</code>: Cell array of rapidity characteristics for each time in <code>t_array</code>.</li>
</ul>
<h2 id="additional-methods">Additional methods</h2>
<h3 id="theta_next-u_next-w_next-performfirstorderstepobj-theta_prev-u_prev-w_prev-t-dt"><code>[theta_next, u_next, w_next] = performFirstOrderStep(obj, theta_prev, u_prev, w_prev, t, dt)</code></h3>
<p>Propagates the filling function one timestep <code>dt</code> using a first-order approximation. This method is helpful for calculating the required quantities for more sophisticated <code>step()</code> algorithms. 
<strong>Inputs:</strong></p>
<ul>
<li><code>theta_prev</code>: Filling function at time <code>t</code>, as <code>iFluidTensor</code>.</li>
<li><code>u_prev</code>: Position characteristic at time <code>t</code>, as <code>iFluidTensor</code>.</li>
<li><code>w_prev</code>: Rapidity characteristic at time <code>t</code>, as <code>iFluidTensor</code>.</li>
<li><code>t</code>: Time at the start of the step.  </li>
<li><code>dt</code>: Length of step.  </li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>theta_next</code>: Filling function at time <code>t + dt</code>, as <code>iFluidTensor</code>.</li>
<li><code>u_next</code>: Position characteristic at time <code>t + dt</code>, as <code>iFluidTensor</code>.</li>
<li><code>w_next</code>: Rapidity characteristic at time <code>t + dt</code>, as <code>iFluidTensor</code>.</li>
</ul>
<hr />
<h3 id="tensor_int-interpphasespaceobj-tensor_grid-rapid_int-x_int-extrapflag"><code>tensor_int = interpPhaseSpace(obj, tensor_grid, rapid_int, x_int, extrapFlag)</code></h3>
<p>Interpolates a quantity defined on the grids <code>x_grid</code> and <code>rapid_grid</code> from the stored <code>iFluidCore</code> object.<br />
<strong>Inputs:</strong></p>
<ul>
<li><code>tensor_grid</code>: Quantity to interpolate. Must be <code>iFluidTensor</code>.  </li>
<li><code>rapid_int</code>: Matrix of rapidities to interpolate to.  </li>
<li><code>x_int</code>: Matrix of positions to interpolate to.  </li>
<li><code>extrapFlag</code>: Flag for extrapolation. If <code>true</code>, extrapolation is allowed. If <code>false</code>, all extrapolated values are 0.  </li>
</ul>
<p><strong>Returns:</strong></p>
<ul>
<li><code>tensor_int</code>: <code>tensor_grid</code> interpolate to <code>rapid_int</code> and <code>x_int</code>.</li>
</ul>
<h2 id="options">Options</h2>
<p>The <code>iFluidSolver</code> class takes an <code>Options</code> struct as argument in its constructor. The <code>Options</code> struct can hold the following (case sensitive!) parameters, which are transferred to the <code>iFluidSolver</code> object upon construction.  </p>
<p>The possible options are:</p>
<ul>
<li><code>extrapFlag</code> (default <code>false</code>): Indicates if extrapolation is allowed.</li>
<li><code>periodRapid</code> (default <code>false</code>): Indicates if rapidity is periodic.</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../iFluidTensor/" class="btn btn-neutral float-right" title="iFluidTensor">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../iFluidCore/" class="btn btn-neutral" title="iFluidCore"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../iFluidCore/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../iFluidTensor/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
